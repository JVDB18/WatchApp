{"ast":null,"code":"import { TraktService } from 'src/app/trakt.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { TmdbService } from 'src/app/tmdb.service';\nimport { PaginaterService } from 'src/app/paginater.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/trakt.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/tmdb.service\";\nimport * as i4 from \"src/app/paginater.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"../../shared/card/card.component\";\nimport * as i7 from \"../../shared/medias/actor-poster/actor-poster.component\";\nfunction ActorDetailsComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelement(1, \"img\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r0.backdropUrl, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction ActorDetailsComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵtext(1, \" Loading \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ActorDetailsComponent_div_3_p_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Died on \", ctx_r5.actor.death, \"\");\n  }\n}\nfunction ActorDetailsComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"div\", 7);\n    i0.ɵɵelement(2, \"app-actor-poster\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 9)(4, \"h1\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"h2\");\n    i0.ɵɵtext(7, \" Biography \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, ActorDetailsComponent_div_3_p_10_Template, 2, 1, \"p\", 10);\n    i0.ɵɵelementStart(11, \"p\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"format\", ctx_r2.format)(\"id\", ctx_r2.actor.ids.tmdb);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.actor.name, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\"Birthday and Birthplace \", ctx_r2.actor.birthday, \" in \", ctx_r2.actor.birthplace, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.actor.death !== null);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r2.actor.biography);\n  }\n}\nfunction ActorDetailsComponent_div_6_div_1_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"app-card\", 18);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r8 = ctx.$implicit;\n    const ctx_r7 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"format\", ctx_r7.movieTmdbFormat)(\"data\", item_r8.movie)(\"formatTrakt\", ctx_r7.movieFormatTrakt);\n  }\n}\nfunction ActorDetailsComponent_div_6_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"a\", 14);\n    i0.ɵɵlistener(\"click\", function ActorDetailsComponent_div_6_div_1_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.setPage(ctx_r9.pager.currentPage - 1, false));\n    });\n    i0.ɵɵelement(2, \"img\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, ActorDetailsComponent_div_6_div_1_div_3_Template, 2, 3, \"div\", 16);\n    i0.ɵɵelementStart(4, \"a\", 14);\n    i0.ɵɵlistener(\"click\", function ActorDetailsComponent_div_6_div_1_Template_a_click_4_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r11.setPage(ctx_r11.pager.currentPage + 1, false));\n    });\n    i0.ɵɵelement(5, \"img\", 17);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r6.pagedMovies);\n  }\n}\nfunction ActorDetailsComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵtemplate(1, ActorDetailsComponent_div_6_div_1_Template, 6, 1, \"div\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.allMovies);\n  }\n}\nfunction ActorDetailsComponent_div_9_div_1_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"app-card\", 18);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r14 = ctx.$implicit;\n    const ctx_r13 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"format\", ctx_r13.showTmdbFormat)(\"data\", item_r14.show)(\"formatTrakt\", ctx_r13.showFormatTrakt);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Playing \", item_r14.character, \"\");\n  }\n}\nfunction ActorDetailsComponent_div_9_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"a\", 14);\n    i0.ɵɵlistener(\"click\", function ActorDetailsComponent_div_9_div_1_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r15.setPage(ctx_r15.pager.currentPage - 1, true));\n    });\n    i0.ɵɵelement(2, \"img\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, ActorDetailsComponent_div_9_div_1_div_3_Template, 4, 4, \"div\", 16);\n    i0.ɵɵelementStart(4, \"a\", 14);\n    i0.ɵɵlistener(\"click\", function ActorDetailsComponent_div_9_div_1_Template_a_click_4_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r17 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r17.setPage(ctx_r17.pager.currentPage + 1, true));\n    });\n    i0.ɵɵelement(5, \"img\", 17);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r12.pagedShows);\n  }\n}\nfunction ActorDetailsComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵtemplate(1, ActorDetailsComponent_div_9_div_1_Template, 6, 1, \"div\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.allShows);\n  }\n}\nexport let ActorDetailsComponent = /*#__PURE__*/(() => {\n  class ActorDetailsComponent {\n    constructor(traktService, route, tmdbService, pagerService) {\n      this.traktService = traktService;\n      this.route = route;\n      this.tmdbService = tmdbService;\n      this.pagerService = pagerService;\n      this.pager = {};\n      this.slug = this.route.snapshot.params.slug;\n      this.format = 'person';\n      this.showTmdbFormat = \"tv\";\n      this.showFormatTrakt = \"shows\";\n      this.movieTmdbFormat = \"movie\";\n      this.movieFormatTrakt = \"movies\";\n    }\n    ngOnInit() {\n      this.getActorById();\n      this.getMoviesByActor();\n      this.getShowsByActor();\n    }\n    setPage(page, bool) {\n      if (bool === false) {\n        this.pager = this.pagerService.getPager(this.allMovies.cast.length, page, 6);\n        this.pagedMovies = this.allMovies.cast.slice(this.pager.startIndex, this.pager.endIndex + 1);\n        console.log(this.pagedMovies);\n      } else if (bool = true) {\n        this.pager = this.pagerService.getPager(this.allShows.cast.length, page, 6);\n        this.pagedShows = this.allShows.cast.slice(this.pager.startIndex, this.pager.endIndex + 1);\n        console.log(this.pagedShows);\n      }\n    }\n    getActorById() {\n      this.traktService.getActorById(`${this.slug}?extended=full`).subscribe(res => {\n        this.actor = res.body;\n        console.log(this.actor);\n        this.tmdbService.getTaggetImg(this.actor.ids.tmdb).subscribe(res => {\n          this.taggedImg = res;\n          console.log(this.taggedImg);\n          this.rand = Math.floor(Math.random() * Math.floor(this.taggedImg.results.length));\n          this.backdropUrl = `${this.tmdbService.config.images.base_url}original${this.taggedImg.results[this.rand].file_path}`;\n        });\n      });\n    }\n    getMoviesByActor() {\n      this.traktService.getActorById(`${this.slug}/movies?extended=full`).subscribe(res => {\n        this.allMovies = res.body;\n        console.log(this.allMovies);\n        this.setPage(1, false);\n        console.log(this.pagedMovies);\n      });\n    }\n    getShowsByActor() {\n      this.traktService.getActorById(`${this.slug}/shows?extended=full`).subscribe(res => {\n        this.allShows = res.body;\n        console.log(this.allShows);\n        this.setPage(1, true);\n        console.log(this.pagedShows);\n      });\n    }\n  }\n  ActorDetailsComponent.ɵfac = function ActorDetailsComponent_Factory(t) {\n    return new (t || ActorDetailsComponent)(i0.ɵɵdirectiveInject(i1.TraktService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.TmdbService), i0.ɵɵdirectiveInject(i4.PaginaterService));\n  };\n  ActorDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ActorDetailsComponent,\n    selectors: [[\"app-actor-details\"]],\n    decls: 10,\n    vars: 5,\n    consts: [[1, \"backdrop\"], [\"class\", \"backdropContainer\", 4, \"ngIf\"], [\"class\", \"details-container\", 4, \"ngIf\"], [\"class\", \"pagination\", 4, \"ngIf\"], [1, \"backdropContainer\"], [1, \"backdrop\", 3, \"src\"], [1, \"details-container\"], [1, \"main-poster\"], [3, \"format\", \"id\"], [1, \"text-container\"], [4, \"ngIf\"], [1, \"pagination\"], [\"class\", \"list-container\", 4, \"ngIf\"], [1, \"list-container\"], [3, \"click\"], [\"src\", \"../../../assets/next.png\", 1, \"previous-arrow\"], [4, \"ngFor\", \"ngForOf\"], [\"src\", \"../../../assets/next.png\", 1, \"next-arrow\"], [3, \"format\", \"data\", \"formatTrakt\"]],\n    template: function ActorDetailsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, ActorDetailsComponent_div_1_Template, 2, 1, \"div\", 1);\n        i0.ɵɵtemplate(2, ActorDetailsComponent_div_2_Template, 2, 0, \"div\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(3, ActorDetailsComponent_div_3_Template, 13, 7, \"div\", 2);\n        i0.ɵɵelementStart(4, \"h2\");\n        i0.ɵɵtext(5, \"Movies\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(6, ActorDetailsComponent_div_6_Template, 2, 1, \"div\", 3);\n        i0.ɵɵelementStart(7, \"h2\");\n        i0.ɵɵtext(8, \"Shows\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(9, ActorDetailsComponent_div_9_Template, 2, 1, \"div\", 3);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.backdropUrl);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.backdropUrl);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.actor);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.pager.pages && ctx.pager.pages.length);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.pager.pages && ctx.pager.pages.length);\n      }\n    },\n    dependencies: [i5.NgForOf, i5.NgIf, i6.CardComponent, i7.ActorPosterComponent]\n  });\n  return ActorDetailsComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}