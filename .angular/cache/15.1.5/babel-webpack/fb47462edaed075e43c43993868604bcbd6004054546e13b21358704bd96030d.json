{"ast":null,"code":"import { TraktService } from 'src/app/trakt.service';\nimport { AuthService } from 'src/app/auth.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/trakt.service\";\nimport * as i2 from \"src/app/auth.service\";\nimport * as i3 from \"@angular/common\";\nfunction AddButtonComponent_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function AddButtonComponent_button_1_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.addHistoryList(ctx_r2.format));\n    });\n    i0.ɵɵtext(1, \" + Add to Watched\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddButtonComponent_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function AddButtonComponent_button_2_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.addWatchlist(ctx_r4.format));\n    });\n    i0.ɵɵtext(1, \" + Add to WatchList\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let AddButtonComponent = /*#__PURE__*/(() => {\n  class AddButtonComponent {\n    constructor(traktService, authService) {\n      this.traktService = traktService;\n      this.authService = authService;\n    }\n    ngOnInit() {\n      this.authService.isLog$.subscribe(res => this.isLoggedIn = res);\n      console.log(this.isLoggedIn);\n    }\n    addWatchlist(format) {\n      if (format === 'shows') {\n        let body = {\n          \"shows\": [{\n            \"title\": `${this.data.title}`,\n            \"year\": `${this.data.year}`,\n            \"ids\": {\n              \"trakt\": `${this.data.ids.trakt}`,\n              \"slug\": `${this.data.ids.slug}`,\n              \"imdb\": `${this.data.ids.imdb}`,\n              \"tmdb\": `${this.data.ids}`\n            }\n          }]\n        };\n        this.traktService.addToList('watchlist', body).subscribe(res => console.log(res));\n      }\n      if (format === 'movies') {\n        let body = {\n          \"movies\": [{\n            \"title\": `${this.data.title}`,\n            \"year\": `${this.data.year}`,\n            \"ids\": {\n              \"trakt\": `${this.data.ids.trakt}`,\n              \"slug\": `${this.data.ids.slug}`,\n              \"imdb\": `${this.data.ids.imdb}`,\n              \"tmdb\": `${this.data.ids}`\n            }\n          }]\n        };\n        this.traktService.addToList('watchlist', body).subscribe(res => console.log(res));\n        alert(\"Succesfully Add\");\n      }\n      // this.notification.blank(\n      //   'Succesfully added',\n      //   'You have added 1 item to your Watchlist',{\n      //     nzStyle: {\n      //       width: '600px',\n      //       marginLeft: '-265px',\n      //       backgroundColor: '#000000ad'\n      //     },\n      //     nzClass: 'test-class'\n      //   })\n    }\n\n    addHistoryList(format) {\n      if (format === 'shows') {\n        let body = {\n          \"shows\": [{\n            \"title\": `${this.data.title}`,\n            \"year\": `${this.data.year}`,\n            \"ids\": {\n              \"trakt\": `${this.data.ids.trakt}`,\n              \"slug\": `${this.data.ids.slug}`,\n              \"imdb\": `${this.data.ids.imdb}`,\n              \"tmdb\": `${this.data.ids}`\n            }\n          }]\n        };\n        this.traktService.addToList('history', body).subscribe(res => console.log(res));\n      }\n      if (format === 'movies') {\n        let body = {\n          \"movies\": [{\n            \"title\": `${this.data.title}`,\n            \"year\": `${this.data.year}`,\n            \"ids\": {\n              \"trakt\": `${this.data.ids.trakt}`,\n              \"slug\": `${this.data.ids.slug}`,\n              \"imdb\": `${this.data.ids.imdb}`,\n              \"tmdb\": `${this.data.ids}`\n            }\n          }]\n        };\n        this.traktService.addToList('history', body).subscribe(res => console.log(res));\n      }\n      // this.notification.blank(\n      //   'Succesfully added',\n      //   'You have added 1 item to your Watched List',{\n      //     nzStyle: {\n      //       width: '600px',\n      //       marginLeft: '-265px',\n      //       backgroundColor: '#000000ad'\n      //     },\n      //     nzClass: 'test-class'\n      //   })\n    }\n  }\n\n  AddButtonComponent.ɵfac = function AddButtonComponent_Factory(t) {\n    return new (t || AddButtonComponent)(i0.ɵɵdirectiveInject(i1.TraktService), i0.ɵɵdirectiveInject(i2.AuthService));\n  };\n  AddButtonComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AddButtonComponent,\n    selectors: [[\"app-add-button\"]],\n    inputs: {\n      data: \"data\",\n      format: \"format\"\n    },\n    decls: 3,\n    vars: 2,\n    consts: [[1, \"button-container\"], [3, \"click\", 4, \"ngIf\"], [3, \"click\"]],\n    template: function AddButtonComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, AddButtonComponent_button_1_Template, 2, 0, \"button\", 1);\n        i0.ɵɵtemplate(2, AddButtonComponent_button_2_Template, 2, 0, \"button\", 1);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoggedIn === true);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoggedIn === true);\n      }\n    },\n    dependencies: [i3.NgIf],\n    styles: [\".button-container[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;flex-wrap:wrap;align-items:center;justify-content:center;margin:0 auto}\"]\n  });\n  return AddButtonComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}